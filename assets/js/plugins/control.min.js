var CJS=CJS||{};CJS.start=function(){CJS.init();CJS.findScripts();CJS.downloadScripts();if(CJS.defer){if("undefined"!=typeof document.readyState&&"complete"===document.readyState){CJS.processScripts()}else{CJS.addHandler(window,"load",CJS.processScripts)}}else{alert("Immediate processing is not currently supported.");CJS.processScripts()}};CJS.findScripts=function(){var e=document.getElementsByTagName("script");var t=e.length;for(var n=0;n<t;n++){var r=e[n];if("text/cjs"===CJS.getAttribute(r,"type")&&"undefined"===typeof r.cjsfound){CJS.aScripts[CJS.aScripts.length]=r;r.cjsfound=true}}};CJS.downloadScripts=function(){var e=CJS.aScripts.length;for(var t=0;t<e;t++){var n=CJS.aScripts[t];var r=CJS.getAttribute(n,"data-cjssrc")||CJS.getAttribute(n,"cjssrc");if(r){CJS.downloadScript(r)}}};CJS.downloadScript=function(e){CJS.dprint("downloading "+e);if(CJS.bIE||CJS.bOpera){CJS.downloadScriptImage(e)}else{CJS.downloadScriptObject(e)}};CJS.downloadScriptImage=function(e){var t=new Image;t.onload=function(){CJS.onloadCallback(e)};t.onerror=function(){CJS.onloadCallback(e)};t.src=e};CJS.downloadScriptObject=function(e){if("undefined"===typeof document.body||!document.body){setTimeout("CJS.downloadScriptObject('"+e+"')",50);return}var t=document.createElement("object");t.data=e;t.width=0;t.height=0;t.onload=function(){CJS.onloadCallback(e)};t.onerror=function(){CJS.onloadCallback(e)};document.body.appendChild(t)};CJS.onloadCallback=function(e){CJS.hLoaded[e]=true};CJS.execCallback=function(e){CJS.dprint("execCallback: "+e);if(0===CJS.aExecs.length){CJS.dprint("ERROR: We finished executing a script but the exec queue is empty: "+e);return}if(e==CJS.aExecs[0][0]){CJS.aExecs.splice(0,1)}else{CJS.dprint("ERROR: We finished executing a script that wasn't on the queue: "+e)}if(CJS.aExecs.length){CJS.execScript(CJS.aExecs[0][0],CJS.aExecs[0][1])}};CJS.processScripts=function(){CJS.processNextScript()};CJS.processNextScript=function(){if(CJS.aScripts.length){var e=CJS.aScripts[0];CJS.curScript=e;var t=CJS.getAttribute(e,"data-cjssrc")||CJS.getAttribute(e,"cjssrc");var n=CJS.getAttribute(e,"data-cjsexec")||CJS.getAttribute(e,"cjsexec");if(t){if("false"===n){CJS.aScripts.splice(0,1);setTimeout(CJS.processNextScript,0)}else if(CJS.hLoaded[t]){CJS.processExternalScript(e,CJS.processNextScript);CJS.aScripts.splice(0,1)}else{CJS.dprint("processNextScript: waiting for script "+t);if("undefined"===typeof e.startwait){e.startwait=Number(new Date)}var r=Number(new Date)-e.startwait;if(r<CJS.maxWait){setTimeout(CJS.processNextScript,CJS.waitival)}else{alert("There was an error loading script: "+t)}}}else{CJS.processInlineScript(e);CJS.aScripts.splice(0,1);setTimeout(CJS.processNextScript,0)}return}CJS.findScripts();if(CJS.aScripts.length){CJS.downloadScripts();setTimeout(CJS.processNextScript,0);return}document.write=CJS.docwriteOrig;CJS.dprint("DONE processing scripts")};CJS.processInlineScript=function(e){CJS.curScript=e;var t=e.text;CJS.dprint("processInlineScript: processing script code: "+t.substring(0,64));CJS.eval(t)};CJS.processExternalScript=function(e,t){var n=CJS.getAttribute(e,"data-cjssrc")||CJS.getAttribute(e,"cjssrc");CJS.dprint("processExternalScript: processing script "+n);CJS.execScript(n,t)};CJS.execScript=function(e,t){CJS.dprint("execScript: "+e);if(0===CJS.aExecs.length){CJS.aExecs[CJS.aExecs.length]=[e,t]}else if(e!=CJS.aExecs[0][0]){CJS.dprint("execScript: queueing for later: "+e);CJS.aExecs[CJS.aExecs.length]=[e,t];return}var n=function(e){switch(typeof e){case"string":e=new Function(e);break;case"function":break;default:e=new Function}return e}(t);var r=function(){if(this.readyState&&this.readyState!="complete"&&this.readyState!="loaded"){return}CJS.execCallback(e);this.onload=this.onreadystatechange=null;n()};var i=document.createElement("script");i.onload=i.onreadystatechange=r;i.src=e;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s)};CJS.eval=function(e){if(window.execScript){window.execScript(e)}else{var t=function(){window.eval.call(window,e)};t()}};CJS.init=function(){CJS.bInited=true;CJS.defer="undefined"===typeof CJS.defer?true:CJS.defer;CJS.aScripts=[];CJS.hLoaded={};CJS.aExecs=[];CJS.bIE=-1!=navigator.userAgent.indexOf("MSIE");CJS.bChrome=-1!=navigator.userAgent.indexOf("Chrome/");CJS.bOpera=-1!=navigator.userAgent.indexOf("Opera");CJS.curScript=null;CJS.maxWait=5e3;CJS.waitival=200;CJS.docwriteOrig=document.write;document.write=CJS.docwrite};CJS.getAttribute=function(e,t){var n=e.attributes;var r=n.length;for(var i=0;i<r;i++){var s=n[i];if(t===s.nodeName){return s.nodeValue}}return undefined};CJS.addHandler=function(e,t,n,r){r=r?true:false;if(e.addEventListener){e.addEventListener(t,n,r)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{if(e["on"+t]){}else{e["on"+t]=n}}};if("undefined"!=typeof console&&"undefined"!=typeof console.log){CJS.dprint=function(e){console.log("CJS "+Number(new Date)+": "+e)}}else{CJS.dprint=function(e){}}CJS.docwrite=function(e){if(CJS.curScript){if(!CJS.curScript.docwriteTarget){CJS.curScript.docwriteTarget=document.createElement("span");CJS.curScript.parentNode.insertBefore(CJS.curScript.docwriteTarget,CJS.curScript)}var t=e.indexOf("<script");if(-1===t){CJS.dprint("docwrite: "+e.substring(0,64));CJS.curScript.docwriteTarget.innerHTML+=e}else{var n=e.indexOf("</script>",t)+9;if(-1!=n){var r=e.substring(0,t);var i=e.substring(t,n);var s=e.substring(n+1);if(r){CJS.dprint("docwrite: "+r.substring(0,64));CJS.curScript.docwriteTarget.innerHTML+=r+s}CJS.docwriteScript(i)}}}else{CJS.dprint("ERROR: There's a problem with the async override of document.write.")}};CJS.docwriteScript=function(e){var t=e.match(/src='([^']*)/i)||e.match(/src="([^"]*)/i)||e.match(/src=([^ >]*)/i);if(t){var n=t[1];CJS.dprint("docwriteScript url = "+n);var r=document.createElement("script");r.src=n;document.body.appendChild(r)}else{}};CJS.start()